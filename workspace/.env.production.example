# Production Environment Variables Template
# Copy this to .env.production and fill in actual values

# =============================================================================
# DATABASE
# =============================================================================
POSTGRES_DB=contractor_passport
POSTGRES_USER=contractor_passport
POSTGRES_PASSWORD=CHANGE_THIS_TO_SECURE_PASSWORD
DATABASE_URL=postgresql://contractor_passport:CHANGE_THIS@postgres:5432/contractor_passport?schema=public

# =============================================================================
# REDIS (for rate limiting & caching)
# =============================================================================
REDIS_PASSWORD=CHANGE_THIS_TO_SECURE_PASSWORD
REDIS_URL=redis://:CHANGE_THIS@redis:6379

# =============================================================================
# API CONFIGURATION
# =============================================================================
NODE_ENV=production
PORT=3001
JWT_ISSUER=contractor-passport
LOG_LEVEL=info

# =============================================================================
# SECURITY
# =============================================================================
# Comma-separated list of allowed origins (or * for all - NOT recommended in prod)
CORS_ORIGIN=https://yourcompany.com,https://www.yourcompany.com
OAUTH_STATE_SECRET=CHANGE_THIS_TO_RANDOM_LONG_SECRET
WEB_BASE_URL=https://yourcompany.com

# =============================================================================
# MONITORING & ERROR TRACKING
# =============================================================================
# Sentry DSN for error monitoring
# Get this from https://sentry.io
SENTRY_DSN=https://your-sentry-dsn@sentry.io/your-project-id

# =============================================================================
# WEB FRONTEND
# =============================================================================
# URL where the API is accessible
VITE_API_URL=https://api.yourcompany.com

# =============================================================================
# THIRD-PARTY INTEGRATIONS (for future use)
# =============================================================================

# GitHub OAuth
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_CALLBACK_URL=
GITHUB_SCOPES=read:user user:email

# LinkedIn OAuth
LINKEDIN_CLIENT_ID=
LINKEDIN_CLIENT_SECRET=
LINKEDIN_CALLBACK_URL=
LINKEDIN_SCOPES=openid profile email

# Checkr (background checks)
CHECKR_API_KEY=
CHECKR_WEBHOOK_SECRET=

# SendGrid (emails)
SENDGRID_API_KEY=
FROM_EMAIL=noreply@yourcompany.com

# =============================================================================
# RATE LIMITING (configurable per environment)
# =============================================================================
# Set to 'true' to disable rate limiting (testing only - NEVER in production)
# DISABLE_RATE_LIMITING=false

# Rate limits per hour (adjust based on expected traffic)
# Production defaults: Conservative limits for security
# Staging: Can be increased for testing (50-100/hour)
RATE_LIMIT_ONBOARDING=10        # Contractor onboarding (default: 10/hour)
RATE_LIMIT_CREDENTIAL=10         # Credential issuance (default: 10/hour)
RATE_LIMIT_VERIFICATION=20       # Verification creation (default: 20/hour)
RATE_LIMIT_AUTH=5                # Auth attempts per 15min (default: 5)
RATE_LIMIT_API=100               # General API per 15min (default: 100)

# =============================================================================
# OPTIONAL: SCALING & PERFORMANCE
# =============================================================================
# Number of worker processes (defaults to CPU cores)
# WORKERS=4

# Max request body size
# MAX_BODY_SIZE=10mb

# Request timeout (milliseconds)
# REQUEST_TIMEOUT=30000
